{"version":3,"sources":["annict.js"],"names":["version","StorageCache","$","extend","key","this","useLocalStorage","prototype","get","storage","getItem","set","item","setItem","remove","removeItem","localStorage","useSessionStorage","sessionStorage","constructor","clear","JsonCache","Object","setPrototypeOf","call","load","json","getDefault","JSON","parse","e","save","setTimeout","stringify","bind","api","endpoint","searchResults","spaceRegExp","workFields","episodeFields","watchingWorksQuery","nextEpisodeQuery","prevEpisodeQuery","createRecordQuery","createReviewQuery","updateStatusQuery","searchWorksQuery","tokenCache","postQuery","success","query","variables","ajax","token","callback","data","replace","url","type","contentType","dataType","headers","Authorization","error","xhr","message","responseText","alertMessage","status","unbind","val","modal","watchingWorks","episodeAnnictIds","withEpisodes","length","prevEpisode","id","skip","nextEpisode","createReview","body","overall","animation","music","story","character","twitter","facebook","createRecord","rating","comment","updateStatus","state","searchWorks","title","before","after","titles","split","last","first","TitleNormalizer","work","normalize","katakanaRegExp","altRegExp","altHash","ゔぁ","ゔぃ","ゔ","ゔぅ","ゔぇ","ゔぉ","titleKana","toHiragana","alternate","target","code","charCodeAt","String","fromCharCode","getKana","compare","another","kana1","kana2","delay","alert","alertBg","find","oldBg","newBg","removeClass","addClass","text","show","click","hide"],"mappings":"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"}