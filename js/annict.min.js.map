{"version":3,"sources":["annict.js"],"names":["annict","endpoint","searchResults","spaceRegExp","tokenCache","StorageCache","workFields","episodeFields","watchingWorksQuery","nextEpisodeQuery","prevEpisodeQuery","createRecordQuery","createReviewQuery","updateStatusQuery","searchWorksQuery","makeWorkPageUrl","workAnnictId","makeEpisodePageUrl","episodeAnnictId","ajaxError","xhr","message","responseText","json","JSON","parse","e","headerContent","inform","status","postQuery","success","query","variables","token","data","replace","$","ajax","url","type","contentType","dataType","headers","Authorization","stringify","error","request","useLocalStorage","get","useSessionStorage","unbind","bind","val","storage","set","modal","this","watchingWorks","episodeAnnictIds","withEpisodes","length","prevEpisode","id","skip","nextEpisode","createReview","body","overall","animation","music","story","character","twitter","facebook","createRecord","rating","comment","updateStatus","state","searchWorks","title","before","after","titles","split","last","first","TitleNormalizer","extend","work","normalize","prototype","katakanaRegExp","altRegExp","altHash","ゔぁ","ゔぃ","ゔ","ゔぅ","ゔぇ","ゔぉ","titleKana","toHiragana","alternate","target","code","charCodeAt","String","fromCharCode","getKana","compare","another","kana1","kana2","constructor"],"mappings":"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"}