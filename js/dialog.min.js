var dialogContent=new function(){var t=function(){$('[name^="review-rating-"][value=""]').trigger("click"),$("#review-body").val("")},e=function(){$('[name="record-rating"][value=""]').trigger("click"),$("#record-comment").val("")},i=$.extend(function(t){this.id=t,this.dialog=null,this.callback=null}.prototype,{build:function(){this.dialog=$(this.id),this.dialog.find("button.btn-success").on("click",this.execute.bind(this))},display:function(){this.show()},execute:function(){this.hide()},show:function(){this.dialog.modal()},hide:function(){this.dialog.modal("hide")}}).constructor,n=new(Object.setPrototypeOf($.extend(function(t){i.call(this,t)}.prototype,{display:function(t){this.callback=t,this.show()},execute:function(){var t=$("#token").val(),e=$('[name="storage"]:checked').val();this.hide(),t?this.callback(e,t):headerContent.inform("アクセストークンを入力してください。","danger")}}),i.prototype).constructor)("#token-modal"),o=new(Object.setPrototypeOf($.extend(function(t){i.call(this,t),this.episodeId=null}.prototype,{display:function(t,i,n,o,a,c,s){this.callback=t,s!=this.episodeId&&(e(),this.episodeId=s),$("#record-work-link").attr("href",i).text(n),$("#record-episode-link").attr("href",o),$("#record-episode-number").text(a),$("#record-episode-title").text(c),this.show()},execute:function(){var t=$('[name="record-rating"]:checked').val(),e=$("#record-comment").val();this.hide(),annict.createRecord(this.success.bind(this),this.episodeId,t,e)},success:function(t){this.callback(t),e(),headerContent.inform("記録しました。","info")}}),i.prototype).constructor)("#record-modal"),a=new(Object.setPrototypeOf($.extend(function(t){i.call(this,t),this.workId=null}.prototype,{display:function(e,i,n){n!=this.workId&&(t(),this.workId=n),$("#review-work-link").attr("href",e).text(i),this.show()},execute:function(){var t=$('[name="review-rating-overall"]:checked').val(),e=$('[name="review-rating-animation"]:checked').val(),i=$('[name="review-rating-music"]:checked').val(),n=$('[name="review-rating-story"]:checked').val(),o=$('[name="review-rating-character"]:checked').val(),a=$("#review-body").val();this.hide(),annict.createReview(this.success,this.workId,a,t,e,i,n,o)},success:function(e){t(),headerContent.inform("記録しました。","info")}}),i.prototype).constructor)("#review-modal"),c=new(Object.setPrototypeOf($.extend(function(t){i.call(this,t),this.workId=null,this.state=null}.prototype,{display:function(t,e,i,n,o,a){this.callback=t,this.workId=a,this.state=e,$("#status-work-link").attr("href",n).text(o),$("#status-modal-name").text(i),$("#status-modal-ok").text(i),this.show()},execute:function(){this.hide(),annict.updateStatus(this.success.bind(this),this.workId,this.state)},success:function(t){this.callback(this.workId,this.state),headerContent.inform("変更しました。","info")}}),i.prototype).constructor)("#status-modal");this.inputTokenDialog=n,this.createRecordDialog=o,this.createReviewDialog=a,this.updateStatusDialog=c,this.build=function(){var t;n.build(),o.build(),a.build(),c.build(),t=$("#rating-template > *").clone(!1,!1),$(".rating").append(t).each(function(){var t=$(this).data("name");$(this).find("input").attr("name",t)})}};$(function(){dialogContent.build()});
//# sourceMappingURL=dialog.min.js.map