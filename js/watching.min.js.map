{"version":3,"sources":["watching.js"],"names":["watchingContent","watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","groupHeadingFirstTop","template","createWorkHeading","href","annict","makeWorkPageUrl","workHeading","find","clone","removeData","attr","id","text","title","createEpisodeBody","episode","episodeBody","empty","makeEpisodePageUrl","record","numberText","viewerDidTrack","hide","groups","initial","reg","render","i","test","getKana","watchingWorks","group","show","headerContent","toggleInitial","groupContents","worksContents","filter","append","shift","updateBodyTop","updateEpisode","workContents","remove","after","updateWatchingWorksJson","callback","searchEpisodes","workAnnictId","set","removeWork","workId","splice","removeWatchingWorksJson","closest","next","groupBody","groupHeading","prev","setupEpisodeNextPrevEvent","target","method","episodeKey","skip","click","andSelf","rootEpisode","searchEpisode","setupUpdateStatusEvent","state","name","workTitle","dialogContent","updateStatusDialog","display","searchContent","updateWorkStatus","setupEvent","createReviewDialog","episodeNumber","episodeTitle","episodeId","createRecordDialog","createRecord","setupEpisodeRecordEvent","prevEpisode","nextEpisode","inform","StorageCache","clear","addWork","addWatchingWorksJson","getGroups","getGroupTop","offset","top","build"],"mappings":"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"}