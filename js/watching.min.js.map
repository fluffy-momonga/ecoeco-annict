{"version":3,"sources":["watching.js"],"names":["watchingContent","watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","twitterCache","StorageCache","facebookCache","createWorkHeading","href","workHeading","clone","removeData","attr","id","find","text","title","createEpisodeBody","episode","episodeBody","empty","record","numberText","viewerDidTrack","hide","groups","initial","reg","render","i","test","getKana","watchingWorks","group","show","headerContent","toggleInitial","groupContents","worksContents","filter","append","shift","updateEpisode","workContents","remove","after","updateWatchingWorksJson","callback","api","searchEpisodes","workAnnictId","set","removeWatchingWorksJson","splice","loadChecked","target","cache","value","prop","saveChecked","setupEpisodeNextPrevEvent","method","episodeKey","skip","click","closest","prev","andSelf","rootEpisode","searchEpisode","setupUpdateStatusEvent","state","prefix","idPrefix","workTitle","modal","updateStatus","next","groupBody","inform","setupEvent","template","val","overall","animation","music","story","character","body","twitter","facebook","createReview","episodeNumber","episodeTitle","rating","comment","createRecord","setupEpisodeRecordEvent","prevEpisode","nextEpisode","clear","searchContent","addWork","addWatchingWorksJson","removeWork","getGroupTop","offset","top","build"],"mappings":"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"}