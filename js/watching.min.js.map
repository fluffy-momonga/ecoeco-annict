{"version":3,"sources":["watching.js"],"names":["watchingContent","watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","twitterCache","StorageCache","facebookCache","groupHeadingFirstTop","createWorkHeading","href","workHeading","clone","removeData","attr","id","find","text","title","createEpisodeBody","episode","episodeBody","empty","record","numberText","viewerDidTrack","hide","groups","initial","reg","render","i","test","getKana","watchingWorks","group","show","headerContent","toggleInitial","groupContents","worksContents","filter","append","shift","updateEpisode","workContents","remove","after","updateWatchingWorksJson","callback","api","searchEpisodes","workAnnictId","set","removeWatchingWorksJson","workId","splice","loadChecked","target","cache","value","prop","saveChecked","setupEpisodeNextPrevEvent","method","episodeKey","skip","click","closest","prev","andSelf","rootEpisode","searchEpisode","setupUpdateStatusEvent","state","name","workTitle","modal","setupEvent","template","updateStatus","next","groupBody","groupHeading","searchContent","updateWorkStatus","inform","val","overall","animation","music","story","character","body","twitter","facebook","createReview","episodeNumber","episodeTitle","rating","comment","createRecord","setupEpisodeRecordEvent","prevEpisode","nextEpisode","clear","addWork","addWatchingWorksJson","removeWork","getGroupTop","offset","top","build","children","each"],"mappings":"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"}