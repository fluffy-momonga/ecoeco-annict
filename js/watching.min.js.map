{"version":3,"sources":["watching.js"],"names":["watchingContent","watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","twitterCache","StorageCache","facebookCache","getWorkHeading","href","workHeading","clone","removeData","attr","id","find","text","title","getEpisodeBody","episode","episodeBody","empty","record","numberText","viewerDidTrack","hide","groupList","reg","renderWatchingWorks","i","test","getKana","watchingWorks","group","groupContents","worksContents","append","shift","updateEpisode","workContents","filter","remove","after","updateWatchingWorksJson","callback","api","searchEpisodes","workAnnictId","set","removeWatchingWorksJson","splice","loadChecked","target","cache","value","prop","saveChecked","setupEpisodeNextPrevEvent","method","episodeKey","skip","click","closest","prev","andSelf","rootEpisode","searchEpisode","setupUpdateStatusEvent","state","prefix","idPrefix","workTitle","modal","updateStatus","next","groupBody","alertMessage","setupEvent","template","val","overall","animation","music","story","character","body","twitter","facebook","createReview","episodeNumber","episodeTitle","rating","comment","createRecord","setupEpisodeRecordEvent","prevEpisode","nextEpisode","clear","searchContent","initialize","addWatchingWorksJson"],"mappings":"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"}