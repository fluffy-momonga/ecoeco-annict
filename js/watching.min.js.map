{"version":3,"sources":["watching.js"],"names":["watchingContent","watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","twitterCache","StorageCache","facebookCache","groupHeadingFirstTop","createWorkHeading","href","annict","makeWorkPageUrl","workHeading","clone","removeData","attr","id","find","text","title","createEpisodeBody","episode","episodeBody","empty","makeEpisodePageUrl","record","numberText","viewerDidTrack","hide","groups","initial","reg","render","i","test","getKana","watchingWorks","group","show","headerContent","toggleInitial","groupContents","worksContents","filter","append","shift","updateEpisode","workContents","remove","after","updateWatchingWorksJson","callback","searchEpisodes","workAnnictId","set","removeWatchingWorksJson","workId","splice","loadChecked","target","cache","value","prop","saveChecked","setupEpisodeNextPrevEvent","method","episodeKey","skip","click","closest","prev","andSelf","rootEpisode","searchEpisode","setupUpdateStatusEvent","state","name","workTitle","modal","setupEvent","template","updateStatus","next","groupBody","groupHeading","searchContent","updateWorkStatus","inform","val","overall","animation","music","story","character","body","twitter","facebook","createReview","episodeNumber","episodeTitle","rating","comment","createRecord","setupEpisodeRecordEvent","prevEpisode","nextEpisode","clear","addWork","addWatchingWorksJson","removeWork","getGroups","getGroupTop","offset","top","build","each"],"mappings":"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"}