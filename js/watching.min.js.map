{"version":3,"sources":["watching.js"],"names":["watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","twitterCache","StorageCache","facebookCache","getWorkHeading","href","workHeading","clone","removeData","attr","id","find","text","title","getEpisodeBody","episode","episodeBody","empty","record","numberText","viewerDidTrack","hide","groupList","reg","renderWatchingWorks","i","test","getKana","watchingWorks","group","groupContents","worksContents","append","shift","updateEpisode","workContents","filter","remove","after","loadChecked","target","cache","value","prop","saveChecked","set","setupWorkReviewEvent","click","closest","workTitle","val","modal","overall","animation","music","story","character","body","twitter","facebook","api","createReview","alertMessage","setupEpisodeRecordEvent","prev","andSelf","episodeNumber","episodeTitle","rating","comment","createRecord","searchEpisode","rootEpisode","episodeKey","setupEpisodeNextPrevEvent","method","skip","searchEpisodes","setupUpdateStatusEvent","state","prefix","idPrefix","updateStatus","workAnnictId","removeWatchingWorksJson","next","groupBody","setupEvent","template","prevEpisode","nextEpisode","updateWatchingWorksJson","clear","searchWorksJsonCache","renderSearchWorks"],"mappings":"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"}