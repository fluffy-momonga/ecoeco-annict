{"version":3,"sources":["watching.js"],"names":["watchingContent","watchingWorksJsonCache","Object","setPrototypeOf","$","extend","key","JsonCache","call","this","prototype","save","json","get","data","viewer","works","nodes","sort","work1","work2","TitleNormalizer","compare","episodeAnnictIds","forEach","work","episodes","length","push","annictId","getDefault","version","constructor","twitterCache","StorageCache","facebookCache","groupHeadingFirstTop","createWorkHeading","href","annict","makeWorkPageUrl","workHeading","clone","removeData","attr","id","find","text","title","createEpisodeBody","episode","episodeBody","empty","makeEpisodePageUrl","record","numberText","viewerDidTrack","hide","groups","initial","reg","render","i","test","getKana","watchingWorks","group","show","headerContent","toggleInitial","groupContents","worksContents","filter","append","shift","updateEpisode","workContents","remove","after","updateWatchingWorksJson","callback","searchEpisodes","workAnnictId","set","removeWatchingWorksJson","workId","splice","loadChecked","target","cache","value","prop","saveChecked","setupEpisodeNextPrevEvent","method","episodeKey","skip","click","closest","prev","andSelf","rootEpisode","searchEpisode","setupUpdateStatusEvent","state","name","workTitle","modal","setupEvent","template","clearReview","updateStatus","next","groupBody","groupHeading","searchContent","updateWorkStatus","inform","val","dataId","overall","animation","music","story","character","body","twitter","facebook","createReview","clearRecord","episodeNumber","episodeTitle","rating","comment","createRecord","setupEpisodeRecordEvent","prevEpisode","nextEpisode","clear","addWork","addWatchingWorksJson","removeWork","getGroups","getGroupTop","offset","top","build","each"],"mappings":"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"}